<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Organise Functions Walkthrough | A Guide to eyeTrackR</title>
  <meta name="description" content="This is a guide to using the eyeTrackR R package." />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Organise Functions Walkthrough | A Guide to eyeTrackR" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a guide to using the eyeTrackR R package." />
  <meta name="github-repo" content="eyeTrackR/bookdown_source" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Organise Functions Walkthrough | A Guide to eyeTrackR" />
  
  <meta name="twitter:description" content="This is a guide to using the eyeTrackR R package." />
  

<meta name="author" content="Hayward J. Godwin" />


<meta name="date" content="2019-11-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="functionsOverview.html"/>
<link rel="next" href="analyseWakthrough.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151983820-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151983820-1');
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Guide to eyeTrackR</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> eyeTrackR</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-can-eyetrackr-do"><i class="fa fa-check"></i><b>1.1</b> What can eyeTrackR do?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#is-eyetrackr-for-you"><i class="fa fa-check"></i><b>1.2</b> Is eyeTrackR for you?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#citing-eyetrackr"><i class="fa fa-check"></i><b>1.3</b> Citing eyeTrackR</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#some-history"><i class="fa fa-check"></i><b>1.4</b> Some History</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i><b>1.5</b> Contributors</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#get-in-touch"><i class="fa fa-check"></i><b>1.6</b> Get in Touch</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation and Preparation</a><ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html#installing-via-cran"><i class="fa fa-check"></i><b>2.1</b> Installing via CRAN</a></li>
<li class="chapter" data-level="2.2" data-path="installation.html"><a href="installation.html#installing-via-devtools"><i class="fa fa-check"></i><b>2.2</b> Installing via Devtools</a></li>
<li class="chapter" data-level="2.3" data-path="installation.html"><a href="installation.html#required-files"><i class="fa fa-check"></i><b>2.3</b> Required Files</a></li>
<li class="chapter" data-level="2.4" data-path="installation.html"><a href="installation.html#required-r-skills"><i class="fa fa-check"></i><b>2.4</b> Required R Skills</a></li>
<li class="chapter" data-level="2.5" data-path="installation.html"><a href="installation.html#removing-eyetrackr"><i class="fa fa-check"></i><b>2.5</b> Removing eyeTrackR</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="functionsOverview.html"><a href="functionsOverview.html"><i class="fa fa-check"></i><b>3</b> Functions Overview</a><ul>
<li class="chapter" data-level="3.1" data-path="functionsOverview.html"><a href="functionsOverview.html#the-basics"><i class="fa fa-check"></i><b>3.1</b> The Basics</a></li>
<li class="chapter" data-level="3.2" data-path="functionsOverview.html"><a href="functionsOverview.html#organise-functions"><i class="fa fa-check"></i><b>3.2</b> Organise Functions</a><ul>
<li class="chapter" data-level="3.2.1" data-path="functionsOverview.html"><a href="functionsOverview.html#marking-up-events"><i class="fa fa-check"></i><b>3.2.1</b> Marking up Events</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="functionsOverview.html"><a href="functionsOverview.html#analyse-functions"><i class="fa fa-check"></i><b>3.3</b> Analyse Functions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html"><i class="fa fa-check"></i><b>4</b> Organise Functions Walkthrough</a><ul>
<li class="chapter" data-level="4.1" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#getting-started"><i class="fa fa-check"></i><b>4.1</b> Getting Started</a></li>
<li class="chapter" data-level="4.2" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#descriptives"><i class="fa fa-check"></i><b>4.2</b> Descriptives</a></li>
<li class="chapter" data-level="4.3" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#message-markup"><i class="fa fa-check"></i><b>4.3</b> Message Markup</a><ul>
<li class="chapter" data-level="4.3.1" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#behavioural-markup"><i class="fa fa-check"></i><b>4.3.1</b> Behavioural Markup</a></li>
<li class="chapter" data-level="4.3.2" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#bma"><i class="fa fa-check"></i><b>4.3.2</b> Behavioural Markup (Alternative)</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#fixation-contingencies"><i class="fa fa-check"></i><b>4.4</b> Fixation Contingencies</a></li>
<li class="chapter" data-level="4.5" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#behavioural-data"><i class="fa fa-check"></i><b>4.5</b> Behavioural Data</a></li>
<li class="chapter" data-level="4.6" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#final-checks"><i class="fa fa-check"></i><b>4.6</b> Final Checks</a></li>
<li class="chapter" data-level="4.7" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#removing-trials"><i class="fa fa-check"></i><b>4.7</b> Removing Trials</a><ul>
<li class="chapter" data-level="4.7.1" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#removing-trials-with-missing-events"><i class="fa fa-check"></i><b>4.7.1</b> Removing Trials with Missing Events</a></li>
<li class="chapter" data-level="4.7.2" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#removing-outlier-fixations"><i class="fa fa-check"></i><b>4.7.2</b> Removing Outlier Fixations</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#time-to-save"><i class="fa fa-check"></i><b>4.8</b> Time to Save</a></li>
<li class="chapter" data-level="4.9" data-path="organiseWakthrough.html"><a href="organiseWakthrough.html#putting-it-together"><i class="fa fa-check"></i><b>4.9</b> Putting it Together</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="analyseWakthrough.html"><a href="analyseWakthrough.html"><i class="fa fa-check"></i><b>5</b> Analyse Functions Walkthrough</a><ul>
<li class="chapter" data-level="5.1" data-path="analyseWakthrough.html"><a href="analyseWakthrough.html#input-structure"><i class="fa fa-check"></i><b>5.1</b> Input Structure</a></li>
<li class="chapter" data-level="5.2" data-path="analyseWakthrough.html"><a href="analyseWakthrough.html#output-structure"><i class="fa fa-check"></i><b>5.2</b> Output Structure</a></li>
<li class="chapter" data-level="5.3" data-path="analyseWakthrough.html"><a href="analyseWakthrough.html#understanding-the-analyse-approach"><i class="fa fa-check"></i><b>5.3</b> Understanding the Analyse Approach</a></li>
<li class="chapter" data-level="5.4" data-path="analyseWakthrough.html"><a href="analyseWakthrough.html#participants"><i class="fa fa-check"></i><b>5.4</b> Participants</a></li>
<li class="chapter" data-level="5.5" data-path="analyseWakthrough.html"><a href="analyseWakthrough.html#list-of-analyse-functions"><i class="fa fa-check"></i><b>5.5</b> List of Analyse Functions</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Guide to eyeTrackR</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="organiseWakthrough" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Organise Functions Walkthrough</h1>
<p>The walkthrough here assumes you’re familiar with the basics of eye-tracking and output from DataViewer.</p>
<p>To make things easier, we have collected all of the R code in this section into one file for you to download and look at, which is available in the <a href="https://github.com/hjgodwin/eyeTrackR/blob/master/Walkthroughs/walkthrough.R">walkthrough.R</a> file.</p>
<div id="getting-started" class="section level2">
<h2><span class="header-section-number">4.1</span> Getting Started</h2>
<p>To use events and contingencies, two files will be needed: a fixation report, and a message report. The message report serves as a ‘fool-proof’ way of examining the timings and occurrences of events.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></p>
<p>We begin by loading the fixation report and message report - these are the ones that come pre-packaged with EyeTrackR. It’s a dummy dataset. You can of course replace them with whatever you want.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">data</span>(fixationreport)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">data</span>(messagereport)</a></code></pre></div>
<p>Next, we begin ‘marking up’ the events, which is why I usually call the file with my organise functions in ORGANISE__Markup.R. The first step is to replace the spaces in any messages with underscores. This is needed as a safety measure because spaces in the event labels can disrupt the process of working out contingencies.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># REPLACE SPACES IN MESSAGES</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">messagereport &lt;-<span class="st"> </span><span class="kw">organise.message.replace_spaces</span>(messagereport)</a></code></pre></div>
</div>
<div id="descriptives" class="section level2">
<h2><span class="header-section-number">4.2</span> Descriptives</h2>
<p>Now, we can get some descriptive statistics from the message report. This is helpful in getting an understanding of what happened in our dataset. It can also be helpful in highlighting any weird issues that have cropped up.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># TAKE A LOOK</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">print</span>(<span class="kw">organise.message.descriptives</span>(messagereport))</a></code></pre></div>
<p>From that, we get the following - formatted nicely here for easy reading:</p>
<table>
<caption>
<span id="tab:unnamed-chunk-21">Table 4.1: </span>Message report descriptives
</caption>
<thead>
<tr>
<th style="text-align:left;">
CURRENT_MSG_TEXT
</th>
<th style="text-align:right;">
EVENT_COUNT
</th>
<th style="text-align:right;">
TIME_MEAN
</th>
<th style="text-align:right;">
TIME_MIN
</th>
<th style="text-align:right;">
TIME_MAX
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
DISPLAY_START
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
30.4704
</td>
<td style="text-align:right;">
26.0000
</td>
<td style="text-align:right;">
35.000
</td>
</tr>
<tr>
<td style="text-align:left;">
DISPLAY_CHANGE
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
255.4810
</td>
<td style="text-align:right;">
251.0000
</td>
<td style="text-align:right;">
260.000
</td>
</tr>
<tr>
<td style="text-align:left;">
BUTTON_PRESS
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
1137.6133
</td>
<td style="text-align:right;">
404.4914
</td>
<td style="text-align:right;">
1982.368
</td>
</tr>
</tbody>
</table>
<p>The table above, which you get in the console output by running <strong>organise.message.descriptives</strong>, has some useful information in it that you can use to spot and diagnose any problems with your data.</p>
<p>First, it lists all of the messages it finds in your message report file, in turn, and puts them in the <strong>CURRENT_MSG_TEXT</strong> column. Then, it gives you a count of how many times each message has been detected in your message report, the mean time each message occurred from the start of each trial, and then, as well as that, the maximum and minimum times each message occurred. There will always be variability in terms of when events occur in a trial, but this does enable you to make sure that, for the most part at least, things happened when they were supposed to.</p>
<p>One thing you can do at this point is a back-of-the-envelope calculation and check to make sure all the trials are there as you would expect. Assuming you know how many participants were in your dataset, and how many trials, you should be able to check to make sure the right number of trials have started (i.e., had a <strong>DISPLAY_START</strong> message appear). If that’s not the case, then you may need to delve deeper to find why data are missing.</p>
<p>Now that you have checked to make sure things appear as they should - here, we have XYZ participants in our example dataset who took part in XYZ trials, giving us XYZ trials across everyone, which is what is being reported in the table, we can continue.</p>
</div>
<div id="message-markup" class="section level2">
<h2><span class="header-section-number">4.3</span> Message Markup</h2>
<p>Our next step is to begin to <strong>markup</strong> the fixation report file based on the messages we are interested in. As we talked about above, because fixations can span multiple messages or events, we need to get the information on when each message of interest occurred in each trial. The <strong>organise.message.markup</strong> function is the start of that process. Let’s run it first then talk about what it does to your fixation report:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># MARKUP FIXATION REPORT</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">fixationreport &lt;-<span class="st"> </span><span class="kw">organise.message.markup</span>(<span class="dt">message_df=</span> messagereport, </a>
<a class="sourceLine" id="cb7-3" data-line-number="3">                                     <span class="dt">fixreport_df =</span> fixationreport, </a>
<a class="sourceLine" id="cb7-4" data-line-number="4">                                     <span class="dt">message=</span><span class="st">&quot;DISPLAY_START&quot;</span>)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">fixationreport &lt;-<span class="st"> </span><span class="kw">organise.message.markup</span>(<span class="dt">message_df=</span> messagereport, </a>
<a class="sourceLine" id="cb7-7" data-line-number="7">                                     <span class="dt">fixreport_df =</span> fixationreport, </a>
<a class="sourceLine" id="cb7-8" data-line-number="8">                                     <span class="dt">message=</span><span class="st">&quot;DISPLAY_CHANGE&quot;</span>)</a></code></pre></div>
<p>If you now take a look at <strong>fixationreport</strong> - which I would recommend you do - you’ll now see some new columns have been added. One is called <strong>DISPLAY_START</strong> and the other is called <strong>DISPLAY_CHANGE</strong>. If you look closely, what this has done is<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>:</p>
<ul>
<li>Work out when each <strong>DISPLAY_START</strong> and <strong>DISPLAY_CHANGE</strong> occurred in each of the trials.</li>
<li>Take the timings of those messages and then add that information to the fixation report.</li>
</ul>
<p>This process also gives you some diagnostic information that helps to check for any problems. It compares the number of rows your fixation report had before you marked it up with each new message with what happens to the fixation report after you have marked it up with each new message. If the number of rows are different, that suggests something has gone wrong. Usually this is the case that you have got participants or trials that are missing from either the fixation report or the message report. If you get the following message, then you have nothing to worry about because the dataset has been matched up perfectly:</p>
<blockquote>
<p>Difference between input and output rows: 0</p>
</blockquote>
<div id="behavioural-markup" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Behavioural Markup</h3>
<p>We now have two of the major events in each trial marked up into our fixation report. The only thing that is missing is the other main event in each trial: the response made by each participant!</p>
<p>Here, there are two ways to markup the fixation report. If you use a button box, you can use the method here. If you are not using a button box, you’ll need to use the method described in <a href="organiseWakthrough.html#bma">Behavioural Markup (Alternative)</a>.</p>
<p>To mark up the fixation report with the timings of each response, as well as the button press of each response, and finally the outcome (correct or incorrect) of each response, we can use <strong>organise.responses.markup</strong>. This function needs to be fed the fixation report you are using, as well as the column which states what the correct response on each trial is. Here, since the button boxes you can connect to Experiment Builder get given numbers (1-8), the correct response lists the correct numerical value of the button that needs to be pressed on each trial. Let’s run the code:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># NOW DO ACCURACY AND RT MARKUP</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">fixationreport &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="kw">organise.responses.markup</span>(fixationreport, <span class="st">&quot;CORRECT_RESPONSE&quot;</span>))</a></code></pre></div>
<p>This function has added the following columns to your fixation report file:</p>
<ul>
<li>BUTTON_NUMBER - the button number pressed on that trial.</li>
<li>OUTCOME - the outcome (‘CORRECT’ or ‘INCORRECT’ of the response).</li>
<li>RESPONSE_TIME - the time from the start of the trial that the response was made.</li>
</ul>
<p>It’s worth noting that RESPONSE_TIME isn’t necessarily what you want to use as your Reaction Time measure, since, with this experiment, as in many others, the display doesn’t actually appear for people to look at until DISPLAY_CHANGE. We’ll talk more about this later.</p>
</div>
<div id="bma" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Behavioural Markup (Alternative)</h3>
<p>If your participants didn’t use a standard button box, then you need to use a slightly different approach. This is the case if participants responded using a keyboard or a mouse. There are other ways to achieve this, but here is what I would recommend to go for since the approach suggested below fits in with the expected inputs and outputs of other functions that form part of eyeTrackR.</p>
<p>To begin with, what we need to have is a message sent to the message report detailing two things: the time of the response, and the response itself. Suppose that participants here are asked to press the Z key for one response to indicate that they have found a target and the M key for a second response to indicate that they think no targets are present. I would recommend that you set up your experiment software so that when the participants press the Z key, it sends a message at the same time saying ‘RESPONSE_PRESENT’ and so that when participants press the M key, it sends a message at the same time saying ‘RESPONSE_ABSENT’. This can be acheived in Experiment Builder by creating two keyboard triggers, one for Z and one for M, and setting them up to send the appropriate RESPONSE_PRESENT or RESPONSE_ABSENT message the moment the keyboard is pressed. That way, you’ll get messages sent at the right time (the moment the keyboard is pressed) and with the right information.</p>
<p>Now, if you do this, you’ll get either a RESPONSE_PRESENT or RESPONSE_ABSENT message appearing in each trial. You’ll also have the responses logged directly into the message report. To work with this approach, rather than using organise.responses.markup as in the above example that focused on button boxes, you need instead to mark up trials as follows:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">fixationreport &lt;-<span class="st"> </span><span class="kw">organise.message.markup</span>(<span class="dt">message_df=</span>messagereport, </a>
<a class="sourceLine" id="cb9-2" data-line-number="2">                                          <span class="dt">fixreport_df =</span> fixationreport, <span class="dt">message=</span><span class="st">&quot;KEYBOARD_PRESENT&quot;</span>)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">fixationreport &lt;-<span class="st"> </span><span class="kw">organise.message.markup</span>(<span class="dt">message_df=</span>messagereport, </a>
<a class="sourceLine" id="cb9-4" data-line-number="4">                                          <span class="dt">fixreport_df =</span> fixationreport, <span class="dt">message=</span><span class="st">&quot;KEYBOARD_ABSENT&quot;</span>)</a></code></pre></div>
<p>By doing so, you’ll end up with two new columns in fixationreport. One will say KEYBOARD_PRESENT, and the other will say KEYBOARD_ABSENT. These will represent the time at which participants pressed either the Z key or the M key.</p>
<p>The final steps are to mimic the function of organise.responses.markup by using the code below. This creates a RESPONSE column and sets it to ‘PRESENT’ when the KEYBOARD_PRESENT column is not set to NA. The KEYBOARD_PRESENT column is not set to NA on trials where the present key was pressed. It then does the same for the KEYBOARD_ABSENT column and absent responses. Next, it creates the OUTCOME column and sets this to ‘CORRECT’ on trials where the RESPONSE column matches the PRESENCE column. Here, we’re assuming that PRESENCE says either ‘PRESENT’ or ‘ABSENT’, representing the two trial types. Finally, it sets the RESPONSE_TIME column which organise.responses.markup would normally have set up.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># HERE WE ASSUME THAT fixationreport IS A data.table</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co"># WE ALSO ASSUME THAT PRESENCE LISTS &#39;PRESENT&#39; OR &#39;ABSENT&#39; DEPENDING ON THE</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co"># TRIAL TYPE</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"></a>
<a class="sourceLine" id="cb10-5" data-line-number="5">fixationreport[<span class="kw">is.na</span>(KEYBOARD_PRESENT)<span class="op">==</span>F,RESPONSE<span class="op">:</span><span class="er">=</span><span class="st">&#39;PRESENT&#39;</span>,]</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">fixationreport[<span class="kw">is.na</span>(KEYBOARD_ABSENT)<span class="op">==</span>F,RESPONSE<span class="op">:</span><span class="er">=</span><span class="st">&#39;ABSENT&#39;</span>,]</a>
<a class="sourceLine" id="cb10-7" data-line-number="7"></a>
<a class="sourceLine" id="cb10-8" data-line-number="8">fixationreport[PRESENCE<span class="op">==</span>RESPONSE,OUTCOME<span class="op">:</span><span class="er">=</span><span class="st">&#39;CORRECT&#39;</span>,]</a>
<a class="sourceLine" id="cb10-9" data-line-number="9">fixationreport[PRESENCE<span class="op">!=</span>RESPONSE,OUTCOME<span class="op">:</span><span class="er">=</span><span class="st">&#39;INCORRECT&#39;</span>,]</a>
<a class="sourceLine" id="cb10-10" data-line-number="10"></a>
<a class="sourceLine" id="cb10-11" data-line-number="11">fixationreport[<span class="kw">is.na</span>(KEYBOARD_ABSENT)<span class="op">==</span>F,RESPONSE_TIME<span class="op">:</span><span class="er">=</span>KEYBOARD_ABSENT,]</a>
<a class="sourceLine" id="cb10-12" data-line-number="12">fixationreport[<span class="kw">is.na</span>(KEYBOARD_PRESENT)<span class="op">==</span>F,RESPONSE_TIME<span class="op">:</span><span class="er">=</span>KEYBOARD_PRESENT,]</a></code></pre></div>
</div>
</div>
<div id="fixation-contingencies" class="section level2">
<h2><span class="header-section-number">4.4</span> Fixation Contingencies</h2>
<p>We now know at what point in each trial each of the three major events occurred- the DISPLAY_START events, the DISPLAY_CHANGE events, and the RESPONSE_TIME events. We know what button participants pressed, and we know if they were right or wrong in each trial. The final step now is to markup the fixation <strong>contingencies</strong>. Again, these are important in helping us be sure that we’ve included what we want to include when it comes to analysing our eye-tracking data.</p>
<p>To get going with this, we need to use the <strong>organise.message.fix_contingencies</strong> function. You need to feed this function the fixation report you’re using, as well as a list of the messages you want to mark up in terms of your contingencies. Note that you don’t need to include all the messages here, just the ones you’re interested in. Let’s run it as follows:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># NOW MARK UP FIXATION CONTINGENCIES</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">fixationreport&lt;-<span class="kw">organise.message.fix_contingencies</span>(fixationreport, </a>
<a class="sourceLine" id="cb11-3" data-line-number="3">                                              <span class="kw">list</span>(<span class="st">&quot;DISPLAY_START&quot;</span>, </a>
<a class="sourceLine" id="cb11-4" data-line-number="4">                                                   <span class="st">&quot;DISPLAY_CHANGE&quot;</span>, </a>
<a class="sourceLine" id="cb11-5" data-line-number="5">                                                   <span class="st">&quot;RESPONSE_TIME&quot;</span>))</a></code></pre></div>
<pre><code>## DISPLAY_START</code></pre>
<pre><code>## DISPLAY_CHANGE</code></pre>
<pre><code>## RESPONSE_TIME</code></pre>
<p>If you now look at your fixation report, a bunch of new columns have been added to it. They are as follows:</p>
<ul>
<li><p>WITHIN_PRE_DISPLAY_START - this lets you know if a given fixation started before the first message you were interested in. In this case, the first message we were interested in is DISPLAY__START, so this column is helpful in letting us focus in on fixations that occurred before even the fixation cross came up. You might be wondering how there can possibly be any time before the fixation cross which literally starts the trial, but in fact, the eye-tracker actually turns on for a <em>little while</em> before the display comes up. Any fixation labelled as TRUE under WITHIN_PRE_DISPLAY_START began before the fixation cross came up.</p></li>
<li><p>WITHIN_DISPLAY_START - this lets you know if a given fixation was occuring when the DISPLAY_START message came up. The cells say TRUE if that is the case and FALSE if not.</p></li>
<li><p>WITHIN_DISPLAY_CHANGE - this lets you know if a given fixation was occuring when the DISPLAY_CHANGE message came up. The cells say TRUE if that is the case and FALSE if not.</p></li>
<li><p>WITHIN_RESPONSE_TIME - this lets you know if a given fixation was occuring when the RESPONSE_TIME message came up. The cells say TRUE if that is the case and FALSE if not.</p></li>
<li><p>FIXATION_CONTINGENCY - this is the most important column added by the <strong>organise.message.fix_contingencies</strong> function. It pastes together all of the message names that each fixation spanned.</p></li>
</ul>
<p>Let’s give some more detailed examples of how to interepret the important FIXATION_CONTINGENCY column. It’ll help if we begin by looking at the final columns of the fixation report after <strong>organise.message.fix_contingencies</strong> has been run:</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 9px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:createtable">Table 4.2: </span>Fixation report final columns
</caption>
<thead>
<tr>
<th style="text-align:left;">
WITHIN_PRE_DISPLAY_START
</th>
<th style="text-align:left;">
WITHIN_DISPLAY_START
</th>
<th style="text-align:left;">
WITHIN_DISPLAY_CHANGE
</th>
<th style="text-align:left;">
WITHIN_RESPONSE_TIME
</th>
<th style="text-align:left;">
FIXATION_CONTINGENCY
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
PRE_DISPLAY_START__DISPLAY_START
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
DISPLAY_START
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
DISPLAY_START__DISPLAY_CHANGE
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
DISPLAY_CHANGE
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
DISPLAY_CHANGE
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
DISPLAY_CHANGE
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
DISPLAY_CHANGE
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
DISPLAY_CHANGE
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
DISPLAY_CHANGE__RESPONSE_TIME
</td>
</tr>
</tbody>
</table>
<p>Browsing through these, you may have already worked out what FIXATION_CONTINGENCY really does. Let’s give some examples:</p>
<ul>
<li><p>The fixation in the first row began before DISPLAY_START and then ended during the period of time when the fixation cross was up. For that reason it gets a contingency of PRE_DISPLAY_START__DISPLAY_START.</p></li>
<li><p>The fixation in the second row began when the fixation cross was up, and ended when the fixation cross was up, giving it a contingency of DISPLAY_START.</p></li>
<li><p>The fixation in the third row began when the fixation cross was up, and ended when the main search array was visible. For that reason, it gets a contingency of DISPLAY_START__DISPLAY_CHANGE.</p></li>
<li><p>The next five fixations began and ended when the search array was visible, so they get a contingency of DISPLAY_CHANGE.</p></li>
<li><p>The final fixation began when the search array was visible, and ended when the response was made. For that reason, this fixation gets a contingency of DISPLAY_CHANGE____RESPONSE_TIME.</p></li>
</ul>
<p>With the fixation report marked up in this manner, you can then, at a later point, be careful in how you select your data down to focus only on the trials and/or fixations that you are definitely interested in.</p>
</div>
<div id="behavioural-data" class="section level2">
<h2><span class="header-section-number">4.5</span> Behavioural Data</h2>
<p>You already have the responses, outcomes and reaction times marked up for each trial at this point. But one problem is that these will require some work to convert to, say, mean accuracy rates. This is because the fixation report has one row per fixation, rather than one row per trial. Therefore, if you want the mean accuracy rate for your participants, you’ll need to crunch the data down to one row per trial before computing your means.</p>
<p>Fortunately, eyeTrackR can do this for you! Our first step in doing this is to work out the <strong>TRUE_RT</strong> column. This is as follows:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="co"># SET UP TRUE RT</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">fixationreport[,TRUE_RT <span class="op">:</span><span class="er">=</span><span class="st"> </span>RESPONSE_TIME<span class="op">-</span>DISPLAY_START,]</a></code></pre></div>
<p>This subtracts the display start time from the response time, to enable us to focus just on the time that we are interested in.</p>
<p>Next, you just need to run <strong>analyse.behavioural.data</strong>, feed it the fixation report, and the list of columns you want to aggregate by (using the <strong>aggregation_column_list</strong> input). Here, in the example below, the output is saved to the behaviouralData data.table.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">behaviouralData &lt;-<span class="st"> </span><span class="kw">analyse.behavioural.data</span>(fixationreport, </a>
<a class="sourceLine" id="cb16-2" data-line-number="2">                                                <span class="dt">aggregation_column_list =</span> <span class="kw">list</span>(<span class="st">&#39;TRIALTYPE_TEXT&#39;</span>))</a></code></pre></div>
<p>The <strong>behaviouralData</strong> table looks like this:</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:unnamed-chunk-31">Table 4.3: </span>Summarised Behavioural Data
</caption>
<thead>
<tr>
<th style="text-align:right;">
RECORDING_SESSION_LABEL
</th>
<th style="text-align:left;">
TRIALTYPE_TEXT
</th>
<th style="text-align:right;">
MEDIAN_RT
</th>
<th style="text-align:right;">
MEAN_RT
</th>
<th style="text-align:right;">
CORRECT_COUNT
</th>
<th style="text-align:right;">
TOTAL_TRIALS
</th>
<th style="text-align:right;">
ACCURACY
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1157.400
</td>
<td style="text-align:right;">
1185.641
</td>
<td style="text-align:right;">
1423
</td>
<td style="text-align:right;">
2449
</td>
<td style="text-align:right;">
0.5810535
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1250.787
</td>
<td style="text-align:right;">
1183.069
</td>
<td style="text-align:right;">
1012
</td>
<td style="text-align:right;">
2473
</td>
<td style="text-align:right;">
0.4092196
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1250.100
</td>
<td style="text-align:right;">
1220.968
</td>
<td style="text-align:right;">
1196
</td>
<td style="text-align:right;">
2509
</td>
<td style="text-align:right;">
0.4766839
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1285.536
</td>
<td style="text-align:right;">
1252.586
</td>
<td style="text-align:right;">
1136
</td>
<td style="text-align:right;">
2579
</td>
<td style="text-align:right;">
0.4404808
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1229.856
</td>
<td style="text-align:right;">
1184.251
</td>
<td style="text-align:right;">
1281
</td>
<td style="text-align:right;">
2408
</td>
<td style="text-align:right;">
0.5319767
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1223.563
</td>
<td style="text-align:right;">
1205.574
</td>
<td style="text-align:right;">
1142
</td>
<td style="text-align:right;">
2502
</td>
<td style="text-align:right;">
0.4564349
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1216.778
</td>
<td style="text-align:right;">
1198.994
</td>
<td style="text-align:right;">
1239
</td>
<td style="text-align:right;">
2475
</td>
<td style="text-align:right;">
0.5006061
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1427.213
</td>
<td style="text-align:right;">
1304.166
</td>
<td style="text-align:right;">
1280
</td>
<td style="text-align:right;">
2563
</td>
<td style="text-align:right;">
0.4994147
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1329.680
</td>
<td style="text-align:right;">
1248.196
</td>
<td style="text-align:right;">
1254
</td>
<td style="text-align:right;">
2509
</td>
<td style="text-align:right;">
0.4998007
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1226.644
</td>
<td style="text-align:right;">
1177.300
</td>
<td style="text-align:right;">
1214
</td>
<td style="text-align:right;">
2442
</td>
<td style="text-align:right;">
0.4971335
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1268.918
</td>
<td style="text-align:right;">
1228.710
</td>
<td style="text-align:right;">
1327
</td>
<td style="text-align:right;">
2562
</td>
<td style="text-align:right;">
0.5179547
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1252.378
</td>
<td style="text-align:right;">
1209.104
</td>
<td style="text-align:right;">
1124
</td>
<td style="text-align:right;">
2462
</td>
<td style="text-align:right;">
0.4565394
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1171.000
</td>
<td style="text-align:right;">
1156.252
</td>
<td style="text-align:right;">
1304
</td>
<td style="text-align:right;">
2438
</td>
<td style="text-align:right;">
0.5348646
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1239.448
</td>
<td style="text-align:right;">
1208.071
</td>
<td style="text-align:right;">
1133
</td>
<td style="text-align:right;">
2450
</td>
<td style="text-align:right;">
0.4624490
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1271.286
</td>
<td style="text-align:right;">
1227.473
</td>
<td style="text-align:right;">
1295
</td>
<td style="text-align:right;">
2498
</td>
<td style="text-align:right;">
0.5184147
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1291.235
</td>
<td style="text-align:right;">
1256.557
</td>
<td style="text-align:right;">
1283
</td>
<td style="text-align:right;">
2580
</td>
<td style="text-align:right;">
0.4972868
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1392.445
</td>
<td style="text-align:right;">
1323.624
</td>
<td style="text-align:right;">
1310
</td>
<td style="text-align:right;">
2587
</td>
<td style="text-align:right;">
0.5063780
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1149.848
</td>
<td style="text-align:right;">
1130.382
</td>
<td style="text-align:right;">
1014
</td>
<td style="text-align:right;">
2392
</td>
<td style="text-align:right;">
0.4239130
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1323.778
</td>
<td style="text-align:right;">
1242.543
</td>
<td style="text-align:right;">
1150
</td>
<td style="text-align:right;">
2491
</td>
<td style="text-align:right;">
0.4616620
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1343.560
</td>
<td style="text-align:right;">
1259.842
</td>
<td style="text-align:right;">
1357
</td>
<td style="text-align:right;">
2568
</td>
<td style="text-align:right;">
0.5284268
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1252.289
</td>
<td style="text-align:right;">
1233.529
</td>
<td style="text-align:right;">
1189
</td>
<td style="text-align:right;">
2476
</td>
<td style="text-align:right;">
0.4802100
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1291.085
</td>
<td style="text-align:right;">
1256.649
</td>
<td style="text-align:right;">
1324
</td>
<td style="text-align:right;">
2563
</td>
<td style="text-align:right;">
0.5165821
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1286.929
</td>
<td style="text-align:right;">
1237.908
</td>
<td style="text-align:right;">
1282
</td>
<td style="text-align:right;">
2537
</td>
<td style="text-align:right;">
0.5053212
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1272.208
</td>
<td style="text-align:right;">
1230.583
</td>
<td style="text-align:right;">
1277
</td>
<td style="text-align:right;">
2557
</td>
<td style="text-align:right;">
0.4994134
</td>
</tr>
<tr>
<td style="text-align:right;">
13
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1228.433
</td>
<td style="text-align:right;">
1206.480
</td>
<td style="text-align:right;">
1225
</td>
<td style="text-align:right;">
2425
</td>
<td style="text-align:right;">
0.5051546
</td>
</tr>
<tr>
<td style="text-align:right;">
13
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1201.048
</td>
<td style="text-align:right;">
1149.940
</td>
<td style="text-align:right;">
1068
</td>
<td style="text-align:right;">
2476
</td>
<td style="text-align:right;">
0.4313409
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1214.384
</td>
<td style="text-align:right;">
1162.218
</td>
<td style="text-align:right;">
1061
</td>
<td style="text-align:right;">
2438
</td>
<td style="text-align:right;">
0.4351928
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1287.243
</td>
<td style="text-align:right;">
1235.081
</td>
<td style="text-align:right;">
1273
</td>
<td style="text-align:right;">
2624
</td>
<td style="text-align:right;">
0.4851372
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1184.089
</td>
<td style="text-align:right;">
1161.135
</td>
<td style="text-align:right;">
1063
</td>
<td style="text-align:right;">
2462
</td>
<td style="text-align:right;">
0.4317628
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1262.098
</td>
<td style="text-align:right;">
1221.638
</td>
<td style="text-align:right;">
1358
</td>
<td style="text-align:right;">
2489
</td>
<td style="text-align:right;">
0.5456006
</td>
</tr>
<tr>
<td style="text-align:right;">
16
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1281.403
</td>
<td style="text-align:right;">
1229.739
</td>
<td style="text-align:right;">
1256
</td>
<td style="text-align:right;">
2445
</td>
<td style="text-align:right;">
0.5137014
</td>
</tr>
<tr>
<td style="text-align:right;">
16
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1124.128
</td>
<td style="text-align:right;">
1132.306
</td>
<td style="text-align:right;">
1060
</td>
<td style="text-align:right;">
2475
</td>
<td style="text-align:right;">
0.4282828
</td>
</tr>
<tr>
<td style="text-align:right;">
17
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1243.181
</td>
<td style="text-align:right;">
1210.754
</td>
<td style="text-align:right;">
1298
</td>
<td style="text-align:right;">
2459
</td>
<td style="text-align:right;">
0.5278569
</td>
</tr>
<tr>
<td style="text-align:right;">
17
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1248.391
</td>
<td style="text-align:right;">
1209.368
</td>
<td style="text-align:right;">
1291
</td>
<td style="text-align:right;">
2529
</td>
<td style="text-align:right;">
0.5104784
</td>
</tr>
<tr>
<td style="text-align:right;">
18
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1395.318
</td>
<td style="text-align:right;">
1289.188
</td>
<td style="text-align:right;">
1372
</td>
<td style="text-align:right;">
2532
</td>
<td style="text-align:right;">
0.5418641
</td>
</tr>
<tr>
<td style="text-align:right;">
18
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1240.013
</td>
<td style="text-align:right;">
1205.530
</td>
<td style="text-align:right;">
1255
</td>
<td style="text-align:right;">
2476
</td>
<td style="text-align:right;">
0.5068659
</td>
</tr>
<tr>
<td style="text-align:right;">
19
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1223.599
</td>
<td style="text-align:right;">
1175.338
</td>
<td style="text-align:right;">
1223
</td>
<td style="text-align:right;">
2362
</td>
<td style="text-align:right;">
0.5177815
</td>
</tr>
<tr>
<td style="text-align:right;">
19
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1280.064
</td>
<td style="text-align:right;">
1216.492
</td>
<td style="text-align:right;">
1322
</td>
<td style="text-align:right;">
2547
</td>
<td style="text-align:right;">
0.5190420
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1205.162
</td>
<td style="text-align:right;">
1185.567
</td>
<td style="text-align:right;">
1285
</td>
<td style="text-align:right;">
2486
</td>
<td style="text-align:right;">
0.5168946
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1324.557
</td>
<td style="text-align:right;">
1274.230
</td>
<td style="text-align:right;">
1331
</td>
<td style="text-align:right;">
2608
</td>
<td style="text-align:right;">
0.5103528
</td>
</tr>
<tr>
<td style="text-align:right;">
21
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1247.392
</td>
<td style="text-align:right;">
1206.089
</td>
<td style="text-align:right;">
1220
</td>
<td style="text-align:right;">
2416
</td>
<td style="text-align:right;">
0.5049669
</td>
</tr>
<tr>
<td style="text-align:right;">
21
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1300.559
</td>
<td style="text-align:right;">
1267.571
</td>
<td style="text-align:right;">
1384
</td>
<td style="text-align:right;">
2574
</td>
<td style="text-align:right;">
0.5376845
</td>
</tr>
<tr>
<td style="text-align:right;">
22
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1280.249
</td>
<td style="text-align:right;">
1204.834
</td>
<td style="text-align:right;">
1143
</td>
<td style="text-align:right;">
2454
</td>
<td style="text-align:right;">
0.4657702
</td>
</tr>
<tr>
<td style="text-align:right;">
22
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1340.408
</td>
<td style="text-align:right;">
1260.651
</td>
<td style="text-align:right;">
1228
</td>
<td style="text-align:right;">
2507
</td>
<td style="text-align:right;">
0.4898285
</td>
</tr>
<tr>
<td style="text-align:right;">
23
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1237.279
</td>
<td style="text-align:right;">
1168.773
</td>
<td style="text-align:right;">
1282
</td>
<td style="text-align:right;">
2470
</td>
<td style="text-align:right;">
0.5190283
</td>
</tr>
<tr>
<td style="text-align:right;">
23
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1259.285
</td>
<td style="text-align:right;">
1222.358
</td>
<td style="text-align:right;">
1436
</td>
<td style="text-align:right;">
2565
</td>
<td style="text-align:right;">
0.5598441
</td>
</tr>
<tr>
<td style="text-align:right;">
24
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1298.970
</td>
<td style="text-align:right;">
1227.991
</td>
<td style="text-align:right;">
1290
</td>
<td style="text-align:right;">
2504
</td>
<td style="text-align:right;">
0.5151757
</td>
</tr>
<tr>
<td style="text-align:right;">
24
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1268.487
</td>
<td style="text-align:right;">
1240.864
</td>
<td style="text-align:right;">
1316
</td>
<td style="text-align:right;">
2474
</td>
<td style="text-align:right;">
0.5319321
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1229.703
</td>
<td style="text-align:right;">
1190.179
</td>
<td style="text-align:right;">
1075
</td>
<td style="text-align:right;">
2423
</td>
<td style="text-align:right;">
0.4436649
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1277.152
</td>
<td style="text-align:right;">
1238.156
</td>
<td style="text-align:right;">
1335
</td>
<td style="text-align:right;">
2566
</td>
<td style="text-align:right;">
0.5202650
</td>
</tr>
<tr>
<td style="text-align:right;">
26
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1277.503
</td>
<td style="text-align:right;">
1241.456
</td>
<td style="text-align:right;">
1313
</td>
<td style="text-align:right;">
2525
</td>
<td style="text-align:right;">
0.5200000
</td>
</tr>
<tr>
<td style="text-align:right;">
26
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1223.005
</td>
<td style="text-align:right;">
1217.925
</td>
<td style="text-align:right;">
1291
</td>
<td style="text-align:right;">
2511
</td>
<td style="text-align:right;">
0.5141378
</td>
</tr>
<tr>
<td style="text-align:right;">
27
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1182.850
</td>
<td style="text-align:right;">
1185.837
</td>
<td style="text-align:right;">
1079
</td>
<td style="text-align:right;">
2383
</td>
<td style="text-align:right;">
0.4527906
</td>
</tr>
<tr>
<td style="text-align:right;">
27
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1307.262
</td>
<td style="text-align:right;">
1254.601
</td>
<td style="text-align:right;">
1144
</td>
<td style="text-align:right;">
2519
</td>
<td style="text-align:right;">
0.4541485
</td>
</tr>
<tr>
<td style="text-align:right;">
28
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1229.227
</td>
<td style="text-align:right;">
1205.312
</td>
<td style="text-align:right;">
1162
</td>
<td style="text-align:right;">
2508
</td>
<td style="text-align:right;">
0.4633174
</td>
</tr>
<tr>
<td style="text-align:right;">
28
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1200.175
</td>
<td style="text-align:right;">
1168.751
</td>
<td style="text-align:right;">
1072
</td>
<td style="text-align:right;">
2513
</td>
<td style="text-align:right;">
0.4265818
</td>
</tr>
<tr>
<td style="text-align:right;">
29
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1263.412
</td>
<td style="text-align:right;">
1209.283
</td>
<td style="text-align:right;">
1208
</td>
<td style="text-align:right;">
2526
</td>
<td style="text-align:right;">
0.4782264
</td>
</tr>
<tr>
<td style="text-align:right;">
29
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1240.007
</td>
<td style="text-align:right;">
1179.010
</td>
<td style="text-align:right;">
1128
</td>
<td style="text-align:right;">
2472
</td>
<td style="text-align:right;">
0.4563107
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:left;">
YES
</td>
<td style="text-align:right;">
1226.636
</td>
<td style="text-align:right;">
1201.704
</td>
<td style="text-align:right;">
1093
</td>
<td style="text-align:right;">
2443
</td>
<td style="text-align:right;">
0.4474007
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:left;">
NO
</td>
<td style="text-align:right;">
1232.063
</td>
<td style="text-align:right;">
1201.976
</td>
<td style="text-align:right;">
1120
</td>
<td style="text-align:right;">
2528
</td>
<td style="text-align:right;">
0.4430380
</td>
</tr>
</tbody>
</table>
<p>Note a few useful columns in that table to help you back-calculate and double-check to make sure everything is going ok. You should look through this to be certain. Is there the right number of trials? The right number of participants? Does it look like anything is missing? Has the accuracy rate been calculated properly? Also, do the reaction times make sense?</p>
<p>Again, the goal here is to help you be certain that there are no problems with your data and catch those problems as early as possible.</p>
</div>
<div id="final-checks" class="section level2">
<h2><span class="header-section-number">4.6</span> Final Checks</h2>
<p>We are almost ready to save our marked-up fixation report. It’s worth at this point to suggest running some checks on our data. Have a go at running the <strong>organise.checks.random_trial</strong> function. This is a simple one - the function does, in fact, do nothing at all to your code. All it does it pick, from a random trial and participant, the fixations from that trial and display them in the console for you. You can repeatedly run this function to inspect all sorts of trials to make sure that any code you have run on your data makes sense and has worked how you think it should have done.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="co"># RANDOM TRIAL TO CHECK THINGS OUT</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="kw">print</span>(<span class="kw">organise.checks.random_trial</span>(fixationreport))</a></code></pre></div>
<p>I can’t tell you the number of times I have thought things were working as they should, but then this function has shown me the error of my ways! This is particularly worth running multiple times for eye-tracking datasets since they can often be huge (hundreds of thousands of fixations), making it virtually impossible to conduct a visual inspection of everything.</p>
<p>Next, we can get descriptive and summary statistics of the contingencies. Here’s what we have for our current fixationreport:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="co"># FIX CONTINGENCIES</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw">print</span>(<span class="kw">organise.contingencies.descriptives</span>(fixationreport))</a></code></pre></div>
<p>That will give a table that looks like this:</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:unnamed-chunk-34">Table 4.4: </span>Descriptives for Fixation Contingencies
</caption>
<thead>
<tr>
<th style="text-align:left;">
FIXATION_CONTINGENCY
</th>
<th style="text-align:right;">
FIXATION_COUNT
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
PRE_DISPLAY_START__DISPLAY_START
</td>
<td style="text-align:right;">
15000
</td>
</tr>
<tr>
<td style="text-align:left;">
DISPLAY_START
</td>
<td style="text-align:right;">
10872
</td>
</tr>
<tr>
<td style="text-align:left;">
DISPLAY_START__DISPLAY_CHANGE
</td>
<td style="text-align:right;">
15000
</td>
</tr>
<tr>
<td style="text-align:left;">
DISPLAY_CHANGE
</td>
<td style="text-align:right;">
93861
</td>
</tr>
<tr>
<td style="text-align:left;">
DISPLAY_CHANGE__RESPONSE_TIME
</td>
<td style="text-align:right;">
15007
</td>
</tr>
<tr>
<td style="text-align:left;">
RESPONSE_TIME
</td>
<td style="text-align:right;">
44
</td>
</tr>
</tbody>
</table>
<p>It tells you how many instances of each fixation contingency have been found. It also tells you how many fixations haven’t been set to a contingency. If you see a row that says ‘UNCLASSIFIED’, this is the count of fixations that have not had a contingency assigned to them.</p>
</div>
<div id="removing-trials" class="section level2">
<h2><span class="header-section-number">4.7</span> Removing Trials</h2>
<p>Our final steps focus on cleaning the dataset. We do this in two ways:
* We remove trials that missed important events, such as display changes or responses
* We remove fixations that were outliers, i.e., those that were too long or too short</p>
<p>Ideally, the first step of this process should remove zero trials for the simple reason that, in most experiments, we should have the same series of events in each trial. Again, this serves as a health check of our dataset to ensure that everything has worked as it should.</p>
<div id="removing-trials-with-missing-events" class="section level3">
<h3><span class="header-section-number">4.7.1</span> Removing Trials with Missing Events</h3>
<p>Let’s begin with the first of our steps in terms of cleaning - removing trials that missed important events. Here, we want to make sure we remove all the trials that lacked the DISPLAY_CHANGE or RESPONSE_TIME messages.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="co"># REMOVE TRIALS THAT LACKED A DISPLAY CHANGE AND/OR A RESPONSE TIME</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">messageRemovals &lt;-<span class="st"> </span><span class="kw">organise.message.removals</span>(<span class="dt">fixreport_df=</span>fixationreport, </a>
<a class="sourceLine" id="cb19-3" data-line-number="3">    <span class="dt">required_message_list=</span><span class="kw">list</span>(<span class="st">&quot;DISPLAY_CHANGE&quot;</span>, <span class="st">&quot;RESPONSE_TIME&quot;</span>))</a>
<a class="sourceLine" id="cb19-4" data-line-number="4"></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="co"># LOOK AT MESSAGE REMOVALS</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="kw">print</span>(messageRemovals[[<span class="dv">1</span>]])</a>
<a class="sourceLine" id="cb19-7" data-line-number="7"></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="co"># GRAB THE FIXATION REPORT WITH TRIALS REMOVED</span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9">fixMessagesRemoved &lt;-<span class="st"> </span>messageRemovals[[<span class="dv">2</span>]]</a>
<a class="sourceLine" id="cb19-10" data-line-number="10"></a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="co"># THIS SHOWS WE HAVE NO UNCLASSIFIED FIXATIONS, GOOD!</span></a>
<a class="sourceLine" id="cb19-12" data-line-number="12"><span class="kw">print</span>(<span class="kw">organise.contingencies.descriptives</span>(fixMessagesRemoved))</a></code></pre></div>
<p>In the above code, <em>messageRemovals</em> is a list of data.tables. The first item in the list, accessed using <em>messageRemovals[[1]]</em>, gives you details information regarding how many trials, and what percentage of trials was removed for each participant, and why. The second item in the list, accessed using <em>messageRemovals[[2]]</em> is the fixation report data.table which has had all the trials where the specified events of DISPLAY_CHANGE and RESPONSE_TIME didn’t occur removed.</p>
<p>As you can see from <em>messageRemovals[[1]]</em>, no trials have been removed because everything happened as it should. Here is what that looks like:</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 8px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:unnamed-chunk-36">Table 4.5: </span>Message Removals Summary Table
</caption>
<thead>
<tr>
<th style="text-align:right;">
RECORDING_SESSION_LABEL
</th>
<th style="text-align:right;">
TRIAL_TOTAL
</th>
<th style="text-align:right;">
TRIAL_COUNT_DISPLAY_CHANGE
</th>
<th style="text-align:right;">
TRIAL_COUNT_RESPONSE_TIME
</th>
<th style="text-align:right;">
FINAL_TRIAL_COUNT
</th>
<th style="text-align:right;">
LOST_TRIALS
</th>
<th style="text-align:right;">
LOST_TRIALS_PERC
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
500
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<div id="removing-outlier-fixations" class="section level3">
<h3><span class="header-section-number">4.7.2</span> Removing Outlier Fixations</h3>
<p>Our final step of the cleaning process is to remove fixations that were too long or too short. The convention I use, and the default set by eyeTrackR, is to remove fixations that were less than 60ms or greater than 1200ms in duration<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>.</p>
<p>The approach here is very similar to that above. We use <em>organise.exclusions.fix_durations</em>, and feed it a fixation report. Here we are giving it the fixation report after cleaning trials that lacked certain messages. Here’s the code:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="co"># REMOVALS BASED ON FIXATION DURATIONS</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2">durationRemovals &lt;-<span class="st"> </span><span class="kw">organise.exclusions.fix_durations</span>(<span class="dt">fixreport_df=</span>fixMessagesRemoved)</a></code></pre></div>
<pre><code>## CURRENT_FIX_DURATION&lt;1200 &amp; CURRENT_FIX_DURATION&gt;60</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="co"># SUMMARY STATS OF HOW MANY FIXATIONS REMOVED PER PARTICIPANT</span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2">durationsRemoved &lt;-<span class="st"> </span>durationRemovals[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb22-3" data-line-number="3"></a>
<a class="sourceLine" id="cb22-4" data-line-number="4"><span class="co"># FINAL DATASET WHICH CAN BE ANALYSED </span></a>
<a class="sourceLine" id="cb22-5" data-line-number="5">finalDT &lt;-<span class="st"> </span>durationRemovals [[<span class="dv">2</span>]]</a></code></pre></div>
<p>In the above example you can take a look at <em>durationsRemoved</em> to get a handle on how many fixations were removed from your fixation report, at a participant level. This can be useful in spotting problems with certain participants or datasets. Let’s take a quick look:</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 8px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:unnamed-chunk-38">Table 4.6: </span>Fixation Removals Summary Table
</caption>
<thead>
<tr>
<th style="text-align:right;">
RECORDING_SESSION_LABEL
</th>
<th style="text-align:right;">
FIX_TOTAL
</th>
<th style="text-align:right;">
FINAL_FIX_COUNT
</th>
<th style="text-align:right;">
LOST_FIXES
</th>
<th style="text-align:right;">
LOST_FIXES_PERC
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4922
</td>
<td style="text-align:right;">
4922
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5088
</td>
<td style="text-align:right;">
5088
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4910
</td>
<td style="text-align:right;">
4910
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5038
</td>
<td style="text-align:right;">
5038
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4951
</td>
<td style="text-align:right;">
4951
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
5024
</td>
<td style="text-align:right;">
5024
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
4888
</td>
<td style="text-align:right;">
4888
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
5078
</td>
<td style="text-align:right;">
5078
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
4979
</td>
<td style="text-align:right;">
4979
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
5059
</td>
<td style="text-align:right;">
5059
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
5039
</td>
<td style="text-align:right;">
5039
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
5094
</td>
<td style="text-align:right;">
5094
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
4901
</td>
<td style="text-align:right;">
4901
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
5062
</td>
<td style="text-align:right;">
5062
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
4951
</td>
<td style="text-align:right;">
4951
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
4920
</td>
<td style="text-align:right;">
4920
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
4988
</td>
<td style="text-align:right;">
4988
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
5008
</td>
<td style="text-align:right;">
5008
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
4909
</td>
<td style="text-align:right;">
4909
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
5094
</td>
<td style="text-align:right;">
5094
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
4990
</td>
<td style="text-align:right;">
4990
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
4961
</td>
<td style="text-align:right;">
4961
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
5035
</td>
<td style="text-align:right;">
5035
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
4978
</td>
<td style="text-align:right;">
4978
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
4989
</td>
<td style="text-align:right;">
4989
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
5036
</td>
<td style="text-align:right;">
5036
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
4902
</td>
<td style="text-align:right;">
4902
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
5021
</td>
<td style="text-align:right;">
5021
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
4998
</td>
<td style="text-align:right;">
4998
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
4971
</td>
<td style="text-align:right;">
4971
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<p>Finally, though, <em>finalDT</em> is the marked up and cleaned dataset that is ready for analysis.</p>
</div>
</div>
<div id="time-to-save" class="section level2">
<h2><span class="header-section-number">4.8</span> Time to Save</h2>
<p>The last step is to save the data.table for later analyses. Here’s an example:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co"># THAT&#39;S IT! LET&#39;S NOW SAVE THE FINAL THING ##########################################################</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="kw">write.table</span>(finalDT, <span class="st">&quot;finalDT.txt&quot;</span>, <span class="dt">row.names=</span><span class="ot">FALSE</span>)</a></code></pre></div>
</div>
<div id="putting-it-together" class="section level2">
<h2><span class="header-section-number">4.9</span> Putting it Together</h2>
<p>I’ll close with one last example from a different, and, in fact, real, experiment <span class="citation">(Godwin, Benson, and Drieghe <a href="#ref-Godwin2013">2013</a>)</span>. I’m going to include this to provide an example of why the organise functions can be so useful.</p>
<p>Let’s turn back the clock to some time around 2009. At that point, I was trying to learn eye-tracking. I started working under the expert guidance of the legendary Val Benson and equally legendary Denis Drieghe on a set of experiments that really shouldn’t have been anyone’s first attempt at eye-tracking. There were display changes that needed to be programmed and fine-tuned, trial and fixation filtering to work out, and much more.</p>
<p>I initially was interested in looking at how getting distracted from a visual search interrupts people - specifically, I was keen to know if, after stopping a search and getting distracted by a secondary task, people would pick up where they left off, or start their searches again from scratch. But I was getting ahead of myself, and so we settled on what was effectively a control condition where there was no secondary task, and just a blank-screened interruption (much like visual world paradigm research, for a review see: <span class="citation">(Ferreira, Apel, and Henderson <a href="#ref-FERREIRA2008405">2008</a>)</span>).</p>
<p>The basic trial sequence was as follows:</p>
<p><img src="files/images/displayInterruption.png" /><!-- --></p>
<p>People started searching, and then, after a random delay of between 1200 and 1400 ms, the display disappeared. We wanted to make sure that the display disappeared during a saccade, so had to be very careful about which trials to include in our analyses. The scripts and code I used to process and filter the data formed the first, somewhat primordial, version of eyeTrackR.<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a></p>
<p>Ultimately, what I ended up putting together was the need to do the following:
- Filter out trials with an incorrect response
- Remove trials where the interruption was ‘seen’ by participants - in other words, when the display disappeared during a fixation
- Filter out trials where the interruption didn’t occur even though it was supposed to. In these trials, participants responded before the interruption could occur
- Filter out fixations that were &lt; 60ms in duration
- Filter out any fixations that spanned different display types</p>
<p>This was all necessary to ensure that we analysed a pure and uncontaminated set of fixations that occurred during the interruption only. What we ended up finding was that, even when the display was removed from view, people could keep searching the display, albeit only for a few fixations.</p>
<p>Hopefully that provides you with at least some of the details and considerations that need to go into ensuring that your dataset is properly prepared and ready for your analyses.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-FERREIRA2008405">
<p>Ferreira, Fernanda, Jens Apel, and John M. Henderson. 2008. “Taking a New Look at Looking at Nothing.” <em>Trends in Cognitive Sciences</em> 12 (11): 405–10. <a href="https://doi.org/https://doi.org/10.1016/j.tics.2008.07.007">https://doi.org/https://doi.org/10.1016/j.tics.2008.07.007</a>.</p>
</div>
<div id="ref-Godwin2013">
<p>Godwin, H J, V Benson, and D Drieghe. 2013. “Using interrupted visual displays to explore the capacity, time course, and format of fixation plans during visual search.” <em>Journal of Experimental Psychology. Human Perception and Performance</em> 39 (6): 1700–1712. <a href="https://doi.org/10.1037/a0032287">https://doi.org/10.1037/a0032287</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p>If you rely only on the <strong>CURRENT_FIX_MSG_X</strong> columns in the fixation report to determine when event occurs, you wil make errors and fail to detect when events occur (occasionally, and it’s very difficult to determine). For that reason, eyeTrackR uses only the message report to determine event timing and occurrences. In fact, I’ve seen people use only these columns in DataViewer, or worse, guess when events occurred.<a href="organiseWakthrough.html#fnref4" class="footnote-back">↩</a></p></li>
<li id="fn5"><p>In SQL parlance, it’s a simple join, of course.<a href="organiseWakthrough.html#fnref5" class="footnote-back">↩</a></p></li>
<li id="fn6"><p>I know I know, outlier limits can be so arbitrary but I’m actually working on a review of the data pipelines in search studies in this regard with a view to getting a better handle on this. Please bear with me.<a href="organiseWakthrough.html#fnref6" class="footnote-back">↩</a></p></li>
<li id="fn7"><p>I tried to tidy it up and make it usable, but didn’t get far, though it exists as <a href="https://github.com/hjgodwin/Inpsyte-Data-Analysis">Inpsyte Data Analysis</a>. It was done in a combination of PHP and MySQL, if you can believe it, at least at first. This was partly because I didn’t know R all that well at the time, and also because I needed to visualise the trials to make sure that I was processing and filtering things properly, and I knew how to whip up images quickly using web langauges. That experience taught me a great deal, especially about how important it was to check, check and check again to make sure your code and processing scripts are doing what you think they are doing.<a href="organiseWakthrough.html#fnref7" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functionsOverview.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="analyseWakthrough.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/4-organiseWalkthrough.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
},
"collapse": "subsection",
"bibliography": "book.bib"
});
});
</script>

</body>

</html>
